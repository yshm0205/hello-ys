# 05. Resend: ì´ë©”ì¼ ì„¤ì •

Resendë¥¼ ì—°ë™í•˜ì—¬ **íŠ¸ëœì­ì…˜ ì´ë©”ì¼**ì„ ë°œì†¡í•  ìˆ˜ ìˆì–´ìš”.

---

## ğŸ“‚ ì´ í´ë”ì˜ íŒŒì¼ë“¤

| íŒŒì¼                               | ì„¤ëª…                                         |
| ---------------------------------- | -------------------------------------------- |
| **README.md**                      | Resend ê¸°ë³¸ ì„¤ì • (ì§€ê¸ˆ ë³´ê³  ìˆëŠ” ë¬¸ì„œ)       |
| **[dns-setup.md](./dns-setup.md)** | ìŠ¤íŒ¸ ë°©ì§€ë¥¼ ìœ„í•œ DNS ì„¤ì • (DKIM, DMARC, SPF) |

---

## 1ë‹¨ê³„: Resend ê³„ì • ìƒì„±

1. [Resend](https://resend.com)ì— ê°€ì…í•˜ì„¸ìš”.
2. ë¬´ë£Œ í”Œëœ: **ì›” 3,000í†µ** ë°œì†¡ ê°€ëŠ¥

---

## 2ë‹¨ê³„: API í‚¤ ìƒì„±

1. Resend Dashboard â†’ **API Keys**
2. **Create API Key** í´ë¦­
3. Name: `global-saas` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„)
4. Permission: **Full access**
5. **Create** í´ë¦­ í›„ í‚¤ ë³µì‚¬

`.env.local`ì— ì¶”ê°€:

```bash
RESEND_API_KEY=re_xxxxxxxxxxxxx
```

---

## 3ë‹¨ê³„: ë°œì‹  ë„ë©”ì¸ ì„¤ì •

> [!IMPORTANT]
> **ìŠ¤íŒ¸í•¨ì— ì•ˆ ë“¤ì–´ê°€ë ¤ë©´ ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì •ì´ í•„ìˆ˜ì˜ˆìš”!**
> ìì„¸í•œ DNS ì„¤ì •ì€ ğŸ‘‰ [dns-setup.md](./dns-setup.md) ì°¸ê³ 

### ê°„ë‹¨ ë²„ì „ (í…ŒìŠ¤íŠ¸ìš©)

ê¸°ë³¸ì ìœ¼ë¡œ `onboarding@resend.dev`ì—ì„œ ë°œì†¡ë¼ìš”. í…ŒìŠ¤íŠ¸í•  ë• ì´ê±¸ë¡œ ì¶©ë¶„í•´ìš”.

> âš ï¸ **ì£¼ì˜**: ìì‹ ì˜ Gmail ì£¼ì†Œë¥¼ `RESEND_FROM_EMAIL`ì— ë°”ë¡œ ë„£ìœ¼ë©´ ë°œì†¡ì´ ì‹¤íŒ¨í•´ìš”.
> ë„ë©”ì¸ ì¸ì¦ ì „ì—ëŠ” ë°˜ë“œì‹œ `onboarding@resend.dev`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ê°€ì´ë“œì— ë”°ë¼ ë„ë©”ì¸ ì„¤ì •ì„ ì™„ë£Œí•˜ë©´ ë³¸ì¸ ë„ë©”ì¸ ë©”ì¼ ì£¼ì†Œë¥¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í”„ë¡œë•ì…˜ ë²„ì „ (ê¶Œì¥)

1. Resend Dashboard â†’ **Domains**
2. **Add Domain** í´ë¦­
3. ë„ë©”ì¸ ì…ë ¥ (ì˜ˆ: `mail.yourdomain.com`)
4. DNS ë ˆì½”ë“œ ì¶”ê°€ â†’ [dns-setup.md](./dns-setup.md) ì°¸ê³ 
5. ì¸ì¦ ì™„ë£Œ í›„ `.env.local`ì— ì¶”ê°€:

```bash
RESEND_FROM_EMAIL=hello@yourdomain.com
```

---

## 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸í•˜ê¸°

ì´ë©”ì¼ ë°œì†¡ í…ŒìŠ¤íŠ¸:

```typescript
import { sendWelcomeEmail } from "@/services/email/actions";

// ì‚¬ìš© ì˜ˆì‹œ
await sendWelcomeEmail({
  email: "user@example.com",
  userName: "í™ê¸¸ë™",
  planName: "Pro",
  locale: "ko",
});
```

---

## ğŸ‰ ìë™ í™˜ì˜ ì´ë©”ì¼

ì‹ ê·œ ê°€ì…ìì—ê²Œ **ìë™ìœ¼ë¡œ í™˜ì˜ ì´ë©”ì¼**ì´ ë°œì†¡ë¼ìš”!

### ì‘ë™ ë°©ì‹

1. ì‚¬ìš©ìê°€ Magic Link ë˜ëŠ” Google OAuthë¡œ ë¡œê·¸ì¸
2. Auth Callback (`/auth/callback`)ì—ì„œ ì„¸ì…˜ êµí™˜
3. `created_at`ì´ 10ì´ˆ ì´ë‚´ë©´ **ì‹ ê·œ ì‚¬ìš©ì**ë¡œ íŒë‹¨
4. `sendWelcomeEmail()` ë¹„ë™ê¸° í˜¸ì¶œ (ë¦¬ë‹¤ì´ë ‰íŠ¸ ì§€ì—° ì—†ìŒ)

### ì½”ë“œ ìœ„ì¹˜

```
src/app/auth/callback/route.ts  â† ì‹ ê·œ ì‚¬ìš©ì ê°ì§€ ë¡œì§
src/services/email/actions.ts   â† sendWelcomeEmail í•¨ìˆ˜
src/components/emails/WelcomeEmail.tsx â† ì´ë©”ì¼ í…œí”Œë¦¿
```

### ë„ê³  ì‹¶ë‹¤ë©´?

`route.ts`ì—ì„œ `if (isNewUser)` ë¸”ë¡ì„ ì£¼ì„ ì²˜ë¦¬í•˜ì„¸ìš”.

---

## ğŸ“§ ì œê³µë˜ëŠ” ì´ë©”ì¼ í…œí”Œë¦¿

| í…œí”Œë¦¿         | íŒŒì¼                     | ìš©ë„           |
| -------------- | ------------------------ | -------------- |
| Welcome        | `WelcomeEmail.tsx`       | ê°€ì… í™˜ì˜      |
| Payment Failed | `PaymentFailedEmail.tsx` | ê²°ì œ ì‹¤íŒ¨ ì•Œë¦¼ |

í…œí”Œë¦¿ ìœ„ì¹˜: `src/components/emails/`

---

## ğŸ’¡ AIë¡œ ì´ë©”ì¼ í…œí”Œë¦¿ ìˆ˜ì •í•˜ê¸°

AIì—ê²Œ ì´ë ‡ê²Œ ìš”ì²­í•˜ì„¸ìš”:

```
src/components/emails/WelcomeEmail.tsxë¥¼ ìˆ˜ì •í•´ì„œ
- ë¡œê³  ì´ë¯¸ì§€ ì¶”ê°€
- ìƒ‰ìƒì„ ë¸Œëœë“œ ì»¬ëŸ¬(#3B82F6)ë¡œ ë³€ê²½
- ì†Œì…œ ë¯¸ë””ì–´ ë§í¬ ì¶”ê°€
```

---

## ğŸ’¬ ë¬¸ì œ í•´ê²°

### ì´ë©”ì¼ì´ ë°œì†¡ë˜ì§€ ì•Šì•„ìš”

â†’ `RESEND_API_KEY`ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ì„¸ìš”.

### ìŠ¤íŒ¸í•¨ìœ¼ë¡œ ê°€ìš”

â†’ ì»¤ìŠ¤í…€ ë„ë©”ì¸ì„ ì„¤ì •í•˜ê³  [dns-setup.md](./dns-setup.md)ì— ë”°ë¼ SPF, DKIM, DMARCë¥¼ ì„¤ì •í•˜ì„¸ìš”.

### ì´ë©”ì¼ì´ ëŠ¦ê²Œ ë„ì°©í•´ìš”

â†’ Resend Dashboardì—ì„œ ë°œì†¡ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”. ë³´í†µ ëª‡ ì´ˆ ë‚´ì— ë°œì†¡ë¼ìš”.

---

**ë‹¤ìŒ**: [07-ai-customization](../07-ai-customization/) - AIë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ê¸° (ì„ íƒ)
